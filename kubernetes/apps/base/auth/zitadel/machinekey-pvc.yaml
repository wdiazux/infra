# PVC for Zitadel Machine Key
#
# Stores the auto-generated machine key for service account authentication.
# Used by both Zitadel (to write) and the OIDC setup job (to read).
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: zitadel-machinekey
  namespace: auth
  labels:
    app.kubernetes.io/name: zitadel
    app.kubernetes.io/component: machinekey
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: longhorn
  resources:
    requests:
      storage: 1Mi
