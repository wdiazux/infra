# CNPG MinIO Credentials for Immich
#
# Used by CloudNative-PG for S3-compatible backups to MinIO.
# IMPORTANT: Encrypt this file with SOPS before committing!
# Run: sops -e cnpg-minio-credentials.yaml > cnpg-minio-credentials.enc.yaml && rm cnpg-minio-credentials.yaml
apiVersion: v1
kind: Secret
metadata:
    name: cnpg-minio-credentials
    namespace: media
    labels:
        app.kubernetes.io/name: cnpg
        app.kubernetes.io/part-of: immich
type: Opaque
stringData:
    ACCESS_KEY_ID: ENC[AES256_GCM,data:3PfGLgk=,iv:TmuMkjzVuQ9GK9QXXxOxsQSL/w/nYnblwBHhO3CS2/w=,tag:ZbSomyVut6+DOmLObf39ww==,type:str]
    ACCESS_SECRET_KEY: ENC[AES256_GCM,data:HM4rSMU8V77BRhHfeA==,iv:sw40tJEbKwH8/hfzJ4wJZJEh6T9XRB6P5QuWm752Kmc=,tag:uf5t55XcveObK2NH7+wCUg==,type:str]
sops:
    age:
        - recipient: age18g78xp0aexuelev3wrj3uf2jgfnkdn9ajcc0uwq908a6pe3ewfus69mj20
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBQUFlSaGRPdTR1RGFqNldT
            ZlMxUlJyQkl1M1QvNFpoSWJzeW44YnE4Y2hNCm9EQ1Z5UTBnaWFzYnd3TmdwZzVF
            SFh1MGxFOGQzRGhZVi95WU9zNXZiRE0KLS0tIFhwbEwwTUlOVWdVYW02ZE5VVU93
            NU5aNEI0QVU3Yko3dlNVWGJyRTluTncKSBtk9ztZM2WZv/LHioEfuksa+ghvfQ9M
            RxC0CDbyo8aV6/vWfoxx+feVs7dzvF1sb3tEsXi2soQwzwYuhQKVLw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-28T18:55:57Z"
    mac: ENC[AES256_GCM,data:QNj0zlps5/yd+ouhicfQoi5f3lg4yQgxiM6kjSuorkdKAcpxbxX7s9WtkA0ClnCtD5l7PeoX5eN19eYX8jlA7r2b7Wm+FOWdSUWbXHUq1El3UBNijY8HUcSi475NEFl6H9QQkJo7T6nDXovpiCSybeJzKGdSgH+fBeB5tPxJMHg=,iv:KeaQ97NHrzG6hxsbaG+X71KEhM/IsTsLILzU+B3EDEk=,tag:fJNXiMJ/qE6VNroOQWyxnw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
