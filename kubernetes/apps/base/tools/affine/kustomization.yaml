# Affine Kustomization
#
# Knowledge base and note-taking application.
# https://docs.affine.pro/
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - secret.enc.yaml
  # Legacy PostgreSQL (keep for rollback, remove after migration verified)
  - postgres-statefulset.yaml
  # CNPG PostgreSQL (with pgvector)
  - cnpg-bootstrap-credentials.enc.yaml
  - cnpg-minio-credentials.enc.yaml
  - cnpg-cluster.yaml
  - cnpg-scheduled-backup.yaml
  # Supporting services
  - redis-deployment.yaml
  # Application
  - server-deployment.yaml
  - services.yaml
  - pvc.yaml
  - httproute.yaml
