# Forgejo Runner Registration Secret
#
# This file should be encrypted with SOPS before committing.
# The token is obtained from Forgejo UI:
#   Site Administration > Actions > Runners > Create new Runner
#
# Encryption:
#   sops -e kubernetes/apps/base/forgejo/runner/secret.yaml > \
#        kubernetes/apps/base/forgejo/runner/secret.enc.yaml
#   rm kubernetes/apps/base/forgejo/runner/secret.yaml
#
# Or use the secrets directory pattern:
#   Store in secrets/forgejo-runner.enc.yaml and reference via Kustomize secretGenerator
apiVersion: v1
kind: Secret
metadata:
  name: forgejo-runner-secret
  namespace: forgejo
  labels:
    app.kubernetes.io/name: forgejo-runner
    app.kubernetes.io/component: runner
    app.kubernetes.io/part-of: forgejo
type: Opaque
stringData:
  # Forgejo instance URL (internal cluster DNS)
  FORGEJO_INSTANCE: "http://forgejo-http.forgejo.svc.cluster.local"
  # Runner registration token from Forgejo UI
  # Replace this with your actual token before encrypting!
  FORGEJO_RUNNER_TOKEN: "REPLACE_WITH_REGISTRATION_TOKEN"
