# Infrastructure Configurations
#
# Cluster-wide configurations and additional resources.
#
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Talos RBAC - allows nodes to list all nodes (fixes KubernetesPullController warning)
  - talos-node-reader.yaml
  # Longhorn storage classes for different workload types
  - longhorn-storage-classes.yaml
  # Volume Snapshot CRDs for Longhorn CSI + Velero integration
  - volume-snapshot-crds.yaml
  # FluxCD webhook receiver LoadBalancer service
  - webhook-receiver-lb.yaml
  # NVIDIA GPU time-slicing configuration (shares GPU across 4 pods)
  - nvidia-time-slicing.yaml
  # cert-manager ClusterIssuers (Let's Encrypt staging and production)
  - cluster-issuers.yaml
  # Wildcard TLS certificates for all domains
  - wildcard-certificates.yaml
  # Weave GitOps HTTPRoute (FluxCD UI)
  - weave-gitops-httproute.yaml
