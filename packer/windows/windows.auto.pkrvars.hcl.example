# Windows 11 Packer Variables Example
#
# Copy this file to windows.auto.pkrvars.hcl and fill in your values
# cp windows.auto.pkrvars.hcl.example windows.auto.pkrvars.hcl

# Proxmox Connection
proxmox_url      = "https://proxmox.local:8006/api2/json"
proxmox_username = "root@pam"
proxmox_token    = "PVEAPIToken=terraform@pam!terraform-token=xxxxxxxx"
proxmox_node     = "pve"
proxmox_skip_tls_verify = true

# Windows ISO (upload to Proxmox first)
# Download from: https://www.microsoft.com/software-download/windows11
windows_iso_url = "https://software-download.microsoft.com/download/pr/Win11_24H2_English_x64.iso"
windows_iso_checksum = "sha256:ebbc79106715f44f5020f77bd90721b17c5a877cbc15a3535b99155493a1bb3f"

# VirtIO drivers ISO (upload to Proxmox first)
# Download from: https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/
virtio_iso_url = "https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/latest-virtio/virtio-win.iso"
virtio_iso_checksum = "none"  # Can use "none" or actual checksum

# Template Configuration
template_name        = "windows-11-golden-template"
template_description = "Windows 11 (24H2) golden image with Cloudbase-Init"
vm_id                = 9005

# VM Hardware (Windows 11 requires more resources)
vm_cpu_type = "host"
vm_cores    = 4
vm_memory   = 4096
vm_disk_size    = "60G"
vm_disk_storage = "tank"

# Network
vm_network_bridge = "vmbr0"

# WinRM (for Packer provisioning only)
winrm_username = "Administrator"
winrm_password = "P@ssw0rd!"
winrm_timeout  = "60m"

# Notes:
# - Download Windows 11 ISO from Microsoft (https://www.microsoft.com/software-download/windows11)
# - Download VirtIO drivers from Fedora Project
# - Upload both ISOs to Proxmox: Datacenter → Storage → ISO Images → Upload
# - winrm_username/password are temporary, only used during build
# - Final VMs will use Cloudbase-Init for user creation
# - Template will have Cloudbase-Init and QEMU guest agent installed
# - Windows builds take 40-90 minutes depending on updates
# - Windows 11 requires TPM 2.0 (can be configured in Proxmox VM settings)
