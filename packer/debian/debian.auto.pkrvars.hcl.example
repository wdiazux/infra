# Debian Cloud Image Packer Variables Example
# PREFERRED METHOD - Uses official cloud image (5-10 min build time)
#
# Copy this file to debian.auto.pkrvars.hcl and fill in your values
# cp debian.auto.pkrvars.hcl.example debian.auto.pkrvars.hcl

# Proxmox Connection
proxmox_url      = "https://proxmox.local:8006/api2/json"
proxmox_username = "terraform@pve"
proxmox_token    = "PVEAPIToken=terraform@pve!terraform-token=xxxxxxxx"
proxmox_node     = "pve"
proxmox_skip_tls_verify = true

# Debian Version
debian_version = "13"

# Cloud Image Base VM (created by import-cloud-image.sh)
cloud_image_vm_id = 9110

# Template Configuration
template_name        = "debian-13-cloud-template"
template_description = "Debian 13 (Trixie) from official cloud image with customizations"
vm_id                = 9112

# VM Hardware
vm_cores    = 2
vm_memory   = 2048
vm_disk_storage = "tank"

# Network
vm_network_bridge = "vmbr0"

# SSH (default from cloud image)
ssh_password = "debian"

# SSH Public Key (Optional - Recommended for production)
# Option 1: Provide key directly
# ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2E... your-key-here"

# Option 2: Read from file (most common)
# ssh_public_key = file("~/.ssh/id_rsa.pub")

# If not provided, template will use password authentication only
ssh_public_key = ""

# Notes:
# - Run import-cloud-image.sh FIRST to create base VM (one-time setup)
# - This template clones and customizes the base cloud image
# - Much faster than ISO-based build (5-10 min vs 20-30 min)
# - Cloud image already includes cloud-init and qemu-guest-agent
# - SSH public keys added to template allow key-based authentication
# - Use this method for production templates
